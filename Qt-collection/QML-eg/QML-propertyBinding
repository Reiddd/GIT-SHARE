/*
  Qt.binding(function(){})
  
  [this] keyword, refering to the reseiver of Qt.binding()
*/
import QtQuick 2.0

Rectangle{
    id: first    
    
    width: 100
    height: width*2
    
    focus: true
    Keys.onSpacePressed: {
        height = width*3  //after the static assignment, the bind is invalid, so it's one time valid
    }
}

Rectangle{
    id: second
    
    width: 100
    height: width*2
    
    focus: true
    Keys.onSpacePressed:{
        height = Qt.binding(function(){ return width*3; })  //Qt.binding provide a consistent bind
    }
}

Item{
    width: 500
    height: 500
    
    Rectangle{
        id: rect
        width: 100
        color: "yellow"
    }
    
    Component.onCompleted:{
        rect.height = Qt.binding(function(){ return this.width*2; })
        console.log("rect.height = " + rect.height)  //print 200, not 1000
    }
}
